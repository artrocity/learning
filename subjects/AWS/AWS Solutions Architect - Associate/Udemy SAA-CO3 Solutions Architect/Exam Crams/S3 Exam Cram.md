Cheat Sheet:  
[https://digitalcloud.training/amazon-s3-and-glacier/](https://digitalcloud.training/amazon-s3-and-glacier/)
 
S3 Buckets

- Buckets
    
    - Virtually Unlimited Storage
    - S3 bucket names must be unique globally
    - You create your buckets within a region
    - Create buckets in regions physically closest to your users
    - No hierarchy for objects within a bucket
        
        - But you can use object key names (prefix) to mimic folders
    - Delivers strong read-after-write consistency
    - 100 buckets per account
    - Can't create nested buckets
    - You can store any type of file in S3
    - Files can be up to 5TB
- Objects
    
    - Object is the file that's uploaded to S3
    - S3 supports any file type
    - Each object is stored and retrieved by a unique key
    - Permissions can always be defined on an object
- Strorage Classes
- |   |   |   |   |   |   |   |
    |---|---|---|---|---|---|---|
    |Class|Standard|Standard - IA|Intelligent Tiering|One-Zone IA|Glacier|Glacier Deep Archive|
    |Durability|11 9s|11 9s|11 9s|11 9s|11 9s|11 9s|
    |Availability|99.0%|99.9%|99.9%|99.5%|99.9%|99.9%|
    |SLA|99.9%|99%|99%|99%|99.9%|99.9%|
    |AZs|>= 3|>= 3|>= 3|1|>= 3|>= 3|
    |Min Capacity|N/A|N/A|128 KB|128 KB|40KB|40KB|
    |Min Storage Duration|N/A|30 Days|30 Days|30 Days|90 Days|180 Days|
    |Retrieval Fee|N/A|N/A|Per GB|Per GB|Per GB|Per GB|
    |Latency|Milliseconds|Milliseconds|Milliseconds|Milliseconds|Select minutes/ hours|Select hours|
    |Storage Type|Object|Object|Object|Object|Object|Object|
    |Lifecycle Transitions|Yes|Yes|Yes|Yes|Yes|Yes|
    |Transitions|Any storage class|Intelligent Tier, S3 One Zone, S3 Glacier, Deep Archive|S3 One Zone IA, S3 Glacier, Deep Archive|S3 Glacier, Deep Archive|Deep Archive||
    |Retrieval Time|||||||
    
- Policies
    
    - IAM
        
        - Identity based policies
        - Principle is not defined
        - Use for services other than S3 or numerous S3 buckets
    - Bucket Policies
        
        - Can only be attached to S3
        - Use AWS access policy language
        - Use for cross account access to S3
- S3 Access Control Lists
    
    - Legacy method
    - Can be attached to an object or bucket
    - AWS recommends using S3 Bucket policies or IAM policies
    - Limited options for grantees and permissions
- S3 Versioning
    
    - Means of keeping multiple variants of an object in the same bucket
    - Use Versioning to preserve, retrieve, and restore every version of every object
        
        - Enables recover from accidental deletion or overwrite
    - Enabled by:
        
        - Bucket owners ( root account )
        - AWS account that created the bucket
        - Authorized IAM user
- S3 Lifecyle Management Actions:
    
    - Transition Actions
        
        - Denied Transitions
            
            - Any storage class to S3 Standard
            - Any storage class to the Reduced Redundancy
            - S3 Intelligent to Standard - IA
    - Exploration Actions
- MFA Delete
    
    - Versioning Must be enabled
    - Requires MFA to change versioning or delete
    - Header x-amz-mfa header must be included
    - Enabled by bucket owner only
- S3 Encryption
    
    - SSE-S3 - built in AWS
    - SSE - C - upload your own
    - SSE - KMS - Use key generated by KMS
    - Client-Side - completed prior to uploading
- S3 Event Notifications
    
    - Send notifications when something happens, via SQS, SNS, Lambda
- S3 Multipart upload
    
    - Recommended for files > 100mb
    - Can be used for objects 5MB - 5TB
    - Uploads in parts in parallel
    - Required for files > 5GB
- S3 Transfer Acceleration
    
    - Leverages cloud front edge locations
    - Enables fast easy secure transfer of files
    - Charged only if benefit in time
    - Needs to enabled transfer acceleration
- S3 Copy API
    
    - Allows copying of objects up to 5gb in size
    - Rename objects
    - Change storage class
- Server Access Logging
    
    - Detailed request logging
    - Includes requester, bucket name
    - Disabled by default
    - Pay for storage used
    - Requires it's own bucket
    - Has to have write permissions
- S3 CORS
    
    - Enabled through
        
        - Access-Control-Allow-Origin
        - Access-Control-Allow-Methods
        - Access-Control-Allow-Headers
    - Settings are defined using rules
    - Rules are added using JSON files
- Cross Account Access Methods
    
    - Allows programmatic access for resource and IAM policies
- Performance Operations
    
    - 3,500 PUT/COPY/POST/DELETE per second
    - Can combine S3 and EC2 in same region